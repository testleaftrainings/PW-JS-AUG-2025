week5.day1
-> Frame object
-> breakout session
-> Window Handle
-> breakout session
-> File upload & Download
-> Break
-> Storage State

Breakout:
load url:https://www.leafground.com/window.xhtml
create promise
click on open button
resolve promise
get title childPage

Table of Contents
Handling Multiple Windows (Pop-ups)
Sequential Approach
Promise.all for Multiple Windows
waitForEvent('page')
Handling Multiple Windows (Pop-ups)
Managing multiple windows is vital for comprehensive testing, particularly for applications that open new tabs or windows.

Sequential Approach
// Sequentially handling new windows
    const windowPromise = context.waitForEvent('page');
    await page.getByText("Open",{exact:true}).click();
    const window = await windowPromise;
Promise.all for Multiple Windows
// Coordinating the opening of several windows simultaneously
const [window1, window2] = await Promise.all([
    context.waitForEvent('page'),
    context.waitForEvent('page'),
    page.click('#open-first-window'),
    page.click('#open-second-window')
]);
waitForEvent('page')
// Detecting a new page following an action
const newPage = await context.waitForEvent('page');
page.click('#open-new-window');
File Upload
Automating file uploads through web forms is crucial for testing upload functionalities.

// Setting files on input elements to simulate file selection
await page.setInputFiles('#upload-selector', 'path/to/file.txt');
setFiles
// Interacting with file chooser dialogs
const [fileChooser] = await Promise.all([
    page.waitForEvent('filechooser'),
    page.click('#upload-btn')
]);
await fileChooser.setFiles('path/to/file.txt');
File Downloads with Playwright
Automating file downloads ensures the correct handling of files from web applications. This guide covers managing the download process and saving the downloaded files to a specific location using Playwright.

Download Event and suggestedFilename To manage the download process and retrieve the suggested filename, use the download event in combination with the suggestedFilename() method.

const fileDownloadPromise = page.waitForEvent('download');
await page.getByRole('button', {name:'Download'}).click();
const fileDownloader = await fileDownloadPromise;
console.log('Suggested Filename:', download.suggestedFilename());
In this example, Playwright waits for the download event to be triggered by clicking on the download link. Once the download starts, it logs the suggested filename.

Saving the Downloaded File To save the downloaded file to a specific location, use the download.path() method along with the saveAs() method.

Example
const path = await download.path(); await download.saveAs('/path/to/save/file'); This example demonstrates how to retrieve the path of the downloaded file and save it to a specified location on your filesystem.